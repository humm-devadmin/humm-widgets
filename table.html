<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }
    </style>
    <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;border-color:#aabcfe;}
        .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aabcfe;color:#669;background-color:#e8edff;}
        .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aabcfe;color:#039;background-color:#b9c9fe;}
        .tg .tg-phtq{background-color:#D2E4FC;border-color:inherit;vertical-align:top}
        .tg .tg-ydyv{background-color:#D2E4FC;border-color:inherit;vertical-align:top}
        .tg .tg-0pky{border-color:inherit;vertical-align:top}
        .tg .tg-dvpl{border-color:inherit;vertical-align:top}
    </style>
    <title>Test Template</title>
</head>
<body>
<table class="tg">
    <tr>
        <th class="tg-0pky"><strong>Static</strong></th>
        <th class="tg-0pky">< 1000</th>
        <th class="tg-0pky">1000 - 2000</th>
        <th class="tg-0pky">> 2000</th>
    </tr>
    <tr>
        <td class="tg-phtq">normal</td>
        <td class="tg-phtq">
            default, productPrice=200
            <script src="dist/au/content/scripts/price-info.js?productPrice=200"></script>
        </td>
        <td class="tg-ydyv">
            default, productPrice=1500
            <script src="dist/au/content/scripts/price-info.js?productPrice=1500"></script>
        </td>
        <td class="tg-ydyv">
            default, productPrice=4500
            <script src="dist/au/content/scripts/price-info.js?productPrice=4500"></script>
        </td>
    </tr>
    <tr>
        <td class="tg-0pky">BigThings</td>
        <td class="tg-0pky">
            BigThings, productPrice=200
            <script src="dist/au/content/scripts/price-info.js?productPrice=200&BigThings"></script>
        </td>
        <td class="tg-dvpl">
            BigThings, productPrice=1500
            <script src="dist/au/content/scripts/price-info.js?productPrice=1500&BigThings"></script>
        </td>
        <td class="tg-dvpl">
            BigThings, productPrice=4500
            <script src="dist/au/content/scripts/price-info.js?productPrice=4500&BigThings"></script>
        </td>
    </tr>
    <tr>
        <td class="tg-phtq">LittleThings</td>
        <td class="tg-phtq">
            LittleThings, productPrice=200
            <script src="dist/au/content/scripts/price-info.js?productPrice=200&LittleThings"></script>
        </td>
        <td class="tg-ydyv">
            LittleThings, productPrice=1500
            <script src="dist/au/content/scripts/price-info.js?productPrice=1500&LittleThings"></script>
        </td>
        <td class="tg-ydyv">
            LittleThings, productPrice=4500
            <script src="dist/au/content/scripts/price-info.js?productPrice=4500&LittleThings"></script>
        </td>
    </tr>
    <tr>
        <td class="tg-phtq">LittleThings - new 5 month breakdown</td>
        <td class="tg-phtq">
            LittleThings, productPrice=200
            <script src="dist/au/content/scripts/price-info-5m.js?productPrice=200&LittleThings"></script>
        </td>
        <td class="tg-ydyv">
            LittleThings, productPrice=1500
            <script src="dist/au/content/scripts/price-info-5m.js?productPrice=1500&LittleThings"></script>
        </td>
        <td class="tg-ydyv">
            LittleThings, productPrice=4500
            <script src="dist/au/content/scripts/price-info-5m.js?productPrice=4500&LittleThings"></script>
        </td>
    </tr>
</table>

<hr>

<table class="tg">
    <tr>
        <th class="tg-0pky"><strong>Dynamic</strong></th>
        <th class="tg-0pky">
            <span id="blar" class="woocommerce-Price-amount amount">
               <span class="woocommerce-Price-currencySymbol">$</span>
                <span id="priceinfo">200</span>
            </span>
            <br><br>
            <select name="cars" onchange="priceChanged(value)">
                <option value="200">200</option>
                <option value="800">800</option>
                <option value="1500">1500</option>
                <option value="4500">4500</option>
            </select>
        </th>
    </tr>

    <tr>
        <td class="tg-phtq">normal</td>
        <td class="tg-phtq">
            default, price-selector=%23priceinfo
            <script id="xx" src="dist/au/content/scripts/price-info.js?price-selector=%23priceinfo"></script>
        </td>
    </tr>

    <tr>
        <td class="tg-0pky">BigThings</td>
        <td class="tg-0pky">
            BigThings, price-selector=%23priceinfo
            <script id="yy" src="dist/au/content/scripts/price-info.js?price-selector=%23priceinfo&BigThings"></script>
        </td>
    </tr>

    <tr>
        <td class="tg-phtq">LittleThings</td>
        <td class="tg-phtq">
            LittleThings, price-selector=%23priceinfo
            <script id="zz" src="dist/au/content/scripts/price-info.js?price-selector=%23priceinfo&LittleThings"></script>
        </td>
    </tr>

</table>

<script class="foo">
    function priceChanged(value){
        $("#priceinfo").html(value);
    }
    window.setTimeout(function() {
        // update price
        var foo = $("#blar");

        var children = foo.contents().filter(function(){
            return (this.nodeType == 3);
        });

        children.each(function(){
            var txtVal = $(this).text().trim();
            if (txtVal) {
                this.data = '401.00';
            } else {
                console.log("Text should be empty : " + txtVal);
            }
        });

        console.log("Price updated ");
    }, 8000);

</script>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>-->
</body>
</html>
